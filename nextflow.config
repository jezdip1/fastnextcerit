// =================================================================
// Kubernetes executor
// =================================================================
executor {
  name      = 'k8s'
  queueSize = 10
}

// =================================================================
// Globální default pro každý process
// =================================================================
process {
  container = 'jezdip1/fastsurfer-cerit:latest'   // upravená image s /bin/bash
  cpus      = 1
  memory    = '12 Gi'
}

// =================================================================
// Label pro GPU (pokud někdy budeme chtít)
// =================================================================
process.withLabel: 'gpujob' {
  cpus = 2
  memory = '12 Gi'
  ext.k8s {
    requests = [ 'nvidia.com/gpu': '1', cpu: '2', memory: '10Gi' ]
    limits   = [ 'nvidia.com/gpu': '1', cpu: '2', memory: '12Gi' ]
  }
}

// =================================================================
// Cesty k datům
// =================================================================
params {
  input_dir = '/mnt/data/input'
  license   = '/mnt/data/license.txt'
}
